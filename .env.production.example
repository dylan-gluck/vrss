# VRSS Social Platform - Production Environment Configuration
# Copy this file to .env.production and customize for production deployment

# ==============================================================================
# GENERAL CONFIGURATION
# ==============================================================================
NODE_ENV=production

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
DB_HOST=your-production-db-host.com
DB_PORT=5432
DB_NAME=vrss_production
DB_USER=vrss_user
DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
# Generate: openssl rand -base64 32

# Database connection pool (adjust based on server resources)
DB_POOL_MIN=5
DB_POOL_MAX=20

# Database performance tuning (adjust based on server RAM)
DB_SHARED_BUFFERS=512MB
DB_CACHE_SIZE=2GB

# ==============================================================================
# BACKEND API CONFIGURATION
# ==============================================================================
BACKEND_PORT=3000

# JWT Configuration
JWT_SECRET=REPLACE_WITH_SECURE_RANDOM_STRING
# Generate: openssl rand -hex 64
JWT_EXPIRES_IN=7d

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
FRONTEND_PORT=8080

# API URLs (use your production domain)
VITE_API_URL=https://api.vrss.app
VITE_WS_URL=wss://api.vrss.app

# PWA Configuration
VITE_APP_NAME=VRSS
VITE_APP_SHORT_NAME=VRSS
VITE_APP_DESCRIPTION=A customizable social media platform

# Feature Flags
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_DEBUG=false

# ==============================================================================
# STORAGE CONFIGURATION
# ==============================================================================
STORAGE_TYPE=s3

# S3 Configuration (AWS S3, DigitalOcean Spaces, or compatible)
S3_ENDPOINT=https://s3.us-east-1.amazonaws.com
S3_BUCKET=vrss-production-media
S3_ACCESS_KEY=REPLACE_WITH_S3_ACCESS_KEY
S3_SECRET_KEY=REPLACE_WITH_S3_SECRET_KEY
S3_REGION=us-east-1
S3_PUBLIC_URL=https://cdn.vrss.app

# Storage limits (in MB)
STORAGE_MAX_SIZE_MB=1024
VITE_FREE_STORAGE_MB=50
VITE_PAID_STORAGE_MB=1024

# ==============================================================================
# CORS AND SECURITY
# ==============================================================================
FRONTEND_URL=https://vrss.app
CORS_ORIGINS=https://vrss.app,https://www.vrss.app

# Rate Limiting (stricter for production)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# LOGGING
# ==============================================================================
LOG_LEVEL=info
# Options: error, warn, info
LOG_FORMAT=json
# JSON format for log aggregation

# ==============================================================================
# NGINX CONFIGURATION
# ==============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=REPLACE_WITH_SENDGRID_API_KEY
SMTP_FROM=VRSS <noreply@vrss.app>

# ==============================================================================
# ANALYTICS
# ==============================================================================
ANALYTICS_ENABLED=true
ANALYTICS_API_KEY=REPLACE_WITH_ANALYTICS_KEY

# ==============================================================================
# MONITORING AND ERROR TRACKING
# ==============================================================================
SENTRY_DSN=REPLACE_WITH_SENTRY_DSN
SENTRY_ENVIRONMENT=production

# ==============================================================================
# REDIS (optional, for caching and sessions)
# ==============================================================================
REDIS_URL=redis://your-redis-host:6379
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD

# ==============================================================================
# SSL/TLS CONFIGURATION
# ==============================================================================
SSL_CERT_PATH=/etc/ssl/certs/vrss.crt
SSL_KEY_PATH=/etc/ssl/private/vrss.key

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
# Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ==============================================================================
# PRODUCTION SECURITY CHECKLIST
# ==============================================================================
# [ ] Changed all default passwords
# [ ] Generated secure JWT_SECRET
# [ ] Configured S3 bucket with proper permissions
# [ ] Set up SSL/TLS certificates
# [ ] Configured firewall rules
# [ ] Enabled database backups
# [ ] Set up monitoring and alerting
# [ ] Configured rate limiting
# [ ] Reviewed CORS origins
# [ ] Enabled error tracking (Sentry)
# [ ] Set up log aggregation
# [ ] Configured email service
# [ ] Tested backup/restore procedures
# [ ] Reviewed environment variables for secrets
# [ ] Enabled HTTPS redirect
# [ ] Configured CDN for static assets
